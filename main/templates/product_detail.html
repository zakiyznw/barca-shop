{% extends "main.html" %}

{% load humanize %}

{% block title %}Detail Produk{% endblock title %}


{% block content %}
<main class="container" style="margin-top:40px; max-width:700px;">
  <img class="detail-thumb" src="{{ product.thumbnail }}" alt="{{ product.name }}">
  <h2>{{ product.name }}</h2>
  <p class="price">Rp {{ product.price|intcomma }}</p>
  <p class="meta">⭐ {{ product.rating }} • Stok {{ product.stock }}</p>
  <p style="margin-top:15px;">{{ product.description }}</p>
  {% if product.user %}
    <p>Seller: {{ product.user.username }}</p>
  {% else %}
    <h4>Seller: Anonymous</h4>
  {% endif %}

  <div class="detail-actions">
    <button class="add" onclick="addToCart('{{ product.name }}')">Add to Cart</button>
    <a href="{% url 'main:show_main' %}" class="btn-cancel">Home</a>
    {% if user.is_authenticated and product.user == user %}
    <a href="{% url 'main:edit_product' product.pk %}" class="btn-cancel">Edit</a>
    <a href="{% url 'main:delete_product' product.pk %}" class="btn-cancel">Delete</a>
    {% endif %}
  </div>
</main>
{% endblock content %}

{% block extra_js %}
<script>
function addToCart(name){
  alert('Menambahkan ke keranjang: ' + name);
}
</script>
{% endblock extra_js %}
