{% extends "base.html" %}

{% load static %}

{% load humanize %}

{% block title %}Barca Shop{% endblock title %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'main/css/main.css' %}">
{% endblock %}

{% block content %}
<header class="hero">
  <div class="hero-left">
    <h2>Selamat datang di <strong>Barca Shop</strong></h2>
    <p>Jika anda benar-benar fans Barca, maka belanjalah disini.</p>
    <button class="cta" onclick="scrollToShop()">Lihat Koleksi</button>
  </div>
  <div class="hero-right" aria-hidden style="flex:1">
    <div style="height:180px;border-radius:16px;background:linear-gradient(135deg,#12243a,#0f2345);display:flex;align-items:center;justify-content:center;">
      <div style="text-align:center">
        <div style="font-size:60px;opacity:0.08">üèüÔ∏è</div>
        <div style="color:var(--muted)">Barca Collection</div>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <!-- Controls -->
  <section class="controls">
    <div class="filters">
      <button class="btn active" data-cat="all">Semua</button>
      <button class="btn" data-cat="Jersey">Jersey</button>
      <button class="btn" data-cat="Accessory">Aksesori</button>
      <button class="btn" data-cat="Shoes">Sepatu</button>
    </div>
    <div style="display:flex;gap:8px;align-items:center;margin-left:auto;">
      <div class="pill" id="featuredToggle" onclick="toggleFeatured()">Tampilkan Unggulan</div>
      <a href="{% url 'main:add_product' %}" class="pill">Tambah Produk</a>
      <a href="{% url 'main:logout' %}" class="pill">Logout</a>
      <a href="?filter=all" class="pill">All Products</a>
      <a href="?filter=my" class="pill">My Products</a>
    </div>
  </section>

  <!-- Shop Grid -->
  <section id="shop" style="margin-top:16px;">
    <div class="grid" id="grid">
      {% for product in product_list %}
      <article class="card" data-category="{{ product.category }}" data-featured="{{ product.is_featured }}">
        <div class="thumb" style="background-image:url('{{ product.thumbnail }}')">
          {% if product.is_featured %}
          <div class="badge">UNGGULAN</div>
          {% endif %}
        </div>
        <h3>{{ product.name }}</h3>
        <div class="meta">
          <div class="pill">{{ product.category }}</div>
          <div class="price">Rp {{ product.price|intcomma }}</div>
        </div>
        <div class="card-footer">
          <div>‚≠ê {{ product.rating }} ‚Ä¢ Stok {{ product.stock }}</div>
          <a href="{% url 'main:show_product' product.id %}" class="add">Lihat Produk</a>
        </div>
      </article>
      {% empty %}
      <div style="grid-column:1/-1;text-align:center;padding:40px;color:var(--muted);">
        Belum ada produk.
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- About -->
  <section style="margin-top:28px">
    <h3 id="about">About Us</h3>
    <p style="color:var(--muted)">Ini adalah halaman khusus penggemar Barcelona. Dibuat dan didesain oleh fans Barcelona seluruh Indonesia.</p>
  </section>
</main>
{% endblock content %}

{% block extra_js %}
<script src="{% static 'main/js/main.js' %}"></script>
{% endblock extra_js %}
